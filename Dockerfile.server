# Use official Bun image
FROM oven/bun:1 as base

# Set working directory
WORKDIR /app

# Copy server package.json and bun.lockb (if exists)
COPY server/package.json server/bun.lockb* ./server/

# Install server dependencies
WORKDIR /app/server
RUN bun install

# Copy server source code
COPY server/ ./

# Expose server port
EXPOSE 5000

# Start command
CMD ["bun", "run", "start"]

